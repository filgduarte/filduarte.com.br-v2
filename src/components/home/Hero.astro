---
    import AnimatedTitle from "../AnimatedTitle.astro";
---

<section id="hero">
    <div class="container grid">

        <AnimatedTitle
            animationDelay="0.3"
            animationStagger="0.15"
            className="grid-element-12-col"
        >
            Designer<br>
            & Developer.
        </AnimatedTitle>

        <AnimatedTitle
            level="2"
            animationType="fadeIn"
            animationBy="chars"
            animationDelay="0.3"
            animationStagger="0.01"
            className="grid-element-4-col"
        >
            Olá, meu nome é Filipe Duarte!<br>
            Eu torno ideias em <strong>designs atraentes</strong> e então transformo esses designs em <strong>sites funcionais e responsivos.</strong>
        </AnimatedTitle>

        <a href="#" class="button button--primary grid-element-3-col">Entre em contato</a>

    </div>
</section>

<style>
    section {
        padding-top: var(--header-height);
        height: 100vh;
        z-index: 2;
    }

    section .container {
        grid-template-rows: 72.5% auto;
        align-items: end;
        height: 100%;
    }

    h1 {
        margin: 0 0 0 -0.6rem;
        font-size: min(8rem, 15vw);
        font-weight: 600;
        line-height: 1;
        letter-spacing: -3px;
    }

    h2 {
        margin: 0 0 -0.35rem;
        max-width: 360px;
        font-size: 1.25rem;
        font-weight: 400;
        line-height: 1.3;
    }

    a {
        --_column-start: 10;
    }
</style>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from 'gsap/ScrollTrigger';

    gsap.registerPlugin(ScrollTrigger);

    const heroButton = document.querySelector('#hero .button');

    ScrollTrigger.create({
        trigger: '#home',
        pin: '#hero .button',
        pinSpacing: false,
        start: 'top top',
        endTrigger: '.submit-container button',
        end: () => {
            return `bottom +=${heroButton.offsetTop + heroButton.offsetHeight}`;
        },
        onToggle: self => {
            heroButton.style.visibility = self.isActive ? 'visible' : 'hidden';
        },
    });
</script>